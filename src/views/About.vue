<template>
  <div class="bg-devblack m-6 xl:mx-24 xl:my-12 shadow-2xl">
    <TheNavbar />

    <div class="flex flex-wrap text-white xl:py-10">
      <div class="w-full xl:w-1/2 p-12 xl:p-24">
        <h1 class="text-9xl leading-none">Hire Me</h1>
        <p
          class="pr-40"
        >Do you have a job for me, feel free to contact me and I will get back to you as soon as possible.</p>

        <div class="flex pt-6">
          <a href="tel:+233546277416" rel="noopener noreferrer" target="_blank">
            <svg
              class="fill-current text-white hover:text-yellow-500 h-8 w-8"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
            >
              <path
                d="M426.666 330.667a250.385 250.385 0 0 1-75.729-11.729c-7.469-2.136-16-1.073-21.332 5.333l-46.939 46.928c-60.802-30.928-109.864-80-140.802-140.803l46.939-46.927c5.332-5.333 7.462-13.864 5.332-21.333-8.537-24.531-12.802-50.136-12.802-76.803C181.333 73.604 171.734 64 160 64H85.333C73.599 64 64 73.604 64 85.333 64 285.864 226.136 448 426.666 448c11.73 0 21.334-9.604 21.334-21.333V352c0-11.729-9.604-21.333-21.334-21.333z"
              />
            </svg>
          </a>
          <a
            href="https://www.linkedin.com/in/castroagbo/"
            rel="noopener noreferrer"
            target="_blank"
          >
            <svg
              class="fill-current xs:text-linkedin md:text-white md:hover:text-linkedin h-8 w-8"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
            >
              <path
                d="M417.2 64H96.8C79.3 64 64 76.6 64 93.9V415c0 17.4 15.3 32.9 32.8 32.9h320.3c17.6 0 30.8-15.6 30.8-32.9V93.9C448 76.6 434.7 64 417.2 64zM183 384h-55V213h55v171zm-25.6-197h-.4c-17.6 0-29-13.1-29-29.5 0-16.7 11.7-29.5 29.7-29.5s29 12.7 29.4 29.5c0 16.4-11.4 29.5-29.7 29.5zM384 384h-55v-93.5c0-22.4-8-37.7-27.9-37.7-15.2 0-24.2 10.3-28.2 20.3-1.5 3.6-1.9 8.5-1.9 13.5V384h-55V213h55v23.8c8-11.4 20.5-27.8 49.6-27.8 36.1 0 63.4 23.8 63.4 75.1V384z"
              />
            </svg>
          </a>

          <a
            href="mailto:ceafive@gmail.com?subject='Enquiry'"
            rel="noopener noreferrer"
            target="_blank"
          >
            <svg
              class="fill-current text-white hover:text-purple-500 h-8 w-8"
              viewBox="0 0 512 512"
            >
              <path
                d="M437.332 80H74.668C51.199 80 32 99.198 32 122.667v266.666C32 412.802 51.199 432 74.668 432h362.664C460.801 432 480 412.802 480 389.333V122.667C480 99.198 460.801 80 437.332 80zM432 170.667L256 288 80 170.667V128l176 117.333L432 128v42.667z"
              />
            </svg>
          </a>
          <a
            href="https://api.whatsapp.com/send?phone=233546277416"
            rel="noopener noreferrer"
            target="_blank"
          >
            <svg
              class="fill-current text-3xl xs:text-whatsapp md:text-white md:hover:text-whatsapp h-8 w-8"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
            >
              <path
                d="M260.062 32C138.605 32 40.134 129.701 40.134 250.232c0 41.23 11.532 79.79 31.559 112.687L32 480l121.764-38.682c31.508 17.285 67.745 27.146 106.298 27.146C381.535 468.464 480 370.749 480 250.232 480 129.701 381.535 32 260.062 32zm109.362 301.11c-5.174 12.827-28.574 24.533-38.899 25.072-10.314.547-10.608 7.994-66.84-16.434-56.225-24.434-90.052-83.844-92.719-87.67-2.669-3.812-21.78-31.047-20.749-58.455 1.038-27.413 16.047-40.346 21.404-45.725 5.351-5.387 11.486-6.352 15.232-6.413 4.428-.072 7.296-.132 10.573-.011 3.274.124 8.192-.685 12.45 10.639 4.256 11.323 14.443 39.153 15.746 41.989 1.302 2.839 2.108 6.126.102 9.771-2.012 3.653-3.042 5.935-5.961 9.083-2.935 3.148-6.174 7.042-8.792 9.449-2.92 2.665-5.97 5.572-2.9 11.269 3.068 5.693 13.653 24.356 29.779 39.736 20.725 19.771 38.598 26.329 44.098 29.317 5.515 3.004 8.806 2.67 12.226-.929 3.404-3.599 14.639-15.746 18.596-21.169 3.955-5.438 7.661-4.373 12.742-2.329 5.078 2.052 32.157 16.556 37.673 19.551 5.51 2.989 9.193 4.529 10.51 6.9 1.317 2.38.901 13.531-4.271 26.359z"
              />
            </svg>
          </a>
          <a href="https://github.com/ceafive" rel="noopener noreferrer" target="_blank">
            <svg
              class="fill-current xs:text-github md:text-white md:hover:text-github h-8 w-8"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
            >
              <path
                d="M256 32C132.3 32 32 134.9 32 261.7c0 101.5 64.2 187.5 153.2 217.9 1.4.3 2.6.4 3.8.4 8.3 0 11.5-6.1 11.5-11.4 0-5.5-.2-19.9-.3-39.1-8.4 1.9-15.9 2.7-22.6 2.7-43.1 0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1 1.4-14.1h.1c22.5 2 34.3 23.8 34.3 23.8 11.2 19.6 26.2 25.1 39.6 25.1 10.5 0 20-3.4 25.6-6 2-14.8 7.8-24.9 14.2-30.7-49.7-5.8-102-25.5-102-113.5 0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8 0 0 1.6-.5 5-.5 8.1 0 26.4 3.1 56.6 24.1 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 30.2-21 48.5-24.1 56.6-24.1 3.4 0 5 .5 5 .5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6 0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5 0 30.7-.3 55.5-.3 63 0 5.4 3.1 11.5 11.4 11.5 1.2 0 2.6-.1 4-.4C415.9 449.2 480 363.1 480 261.7 480 134.9 379.7 32 256 32z"
              />
            </svg>
          </a>
        </div>
      </div>

      <div class="w-full xl:w-1/2 p-8 xl:py-32 xl:px-20">
        <form name="contact" @submit.prevent="handleSubmit">
          <div class="flex flex-wrap">
            <div class="w-full xl:w-1/2 xl:pr-2 mb-6">
              <label
                class="block uppercase tracking-wide text-white text-xs font-bold mb-2"
                for="grid-name"
              >Your Name</label>
              <input
                v-model="form.name"
                class="appearance-none block w-full bg-transparent font-thin text-white border-b border-devgray py-1 mb-3 leading-tight focus:outline-none"
                required
                id="grid-name"
                type="text"
                placeholder="Jane Doe"
              />
            </div>
            <div class="w-full xl:w-1/2 mb-6">
              <label
                class="block uppercase tracking-wide text-white text-xs font-bold mb-2"
                for="grid-email"
              >Email</label>
              <input
                v-model="form.email"
                class="appearance-none block w-full bg-transparent font-thin text-white border-b border-devgray py-1 mb-3 leading-tight focus:outline-none"
                required
                id="grid-email"
                type="email"
                placeholder="jane.doe@mail.com"
              />
            </div>
            <div class="w-full mb-2">
              <label
                class="block uppercase tracking-wide text-white text-xs font-bold mb-2"
                for="grid-message"
              >Message</label>
              <textarea
                v-model="form.message"
                class="appearance-none block w-full bg-transparent font-thin text-white border focus:border-4 border-devgray p-1 mb-3 leading-tight focus:outline-none"
                cols="60"
                rows="5"
                required
                id="grid-message"
                placeholder="Hi there..."
              ></textarea>
            </div>
            <div class="flex w-full justify-between items-center">
              <button class="button-devred py-3 px-10">
                <span class>SEND</span>
                <svg class="fill-current w-4 h-4 ml-2" viewBox="0 0 512 512">
                  <path d="M48 448l416-192L48 64v149.333L346 256 48 298.667z" />
                </svg>
              </button>

              <div id="status-messages">
                <div v-if="success" class="text-green-400 text-center" role="alert">Message sent.</div>
                <div
                  v-if="failure"
                  class="text-red-400 text-center"
                  role="alert"
                >Message not sent. Please email me.</div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</template>

<script>
// @ is an alias to /src
import axios from "axios";
import TheNavbar from "@/components/TheNavbar";
export default {
  name: "home",
  components: {
    TheNavbar
  },
  data() {
    return {
      form: {
        name: "",
        email: "",
        message: ""
      },
      success: false,
      failure: false
    };
  },
  methods: {
    encode(data) {
      return Object.keys(data)
        .map(
          key => `${encodeURIComponent(key)}=${encodeURIComponent(data[key])}`
        )
        .join("&");
    },
    handleSubmit() {
      const axiosConfig = {
        header: { "Content-Type": "application/x-www-form-urlencoded" }
      };
      axios
        .post(
          "/",
          this.encode({
            "form-name": "contact",
            ...this.form
          }),
          axiosConfig
        )
        .then(() => {
          (this.form.name = ""),
            (this.form.email = ""),
            (this.form.message = "");
          this.success = true;
          setTimeout(() => {
            this.$router.push("/");
          }, 1000);
        })
        .catch(() => {
          this.failure = true;
        });
    }
  },
  beforeCreate: function() {
    document.body.className = "bg-devash";
  }
};
</script>
